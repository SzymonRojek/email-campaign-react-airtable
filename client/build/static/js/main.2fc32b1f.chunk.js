(this["webpackJsonpemail-campaign-react-airtable"]=this["webpackJsonpemail-campaign-react-airtable"]||[]).push([[0],{185:function(e,t,a){},269:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(28),s=a.n(r),i=(a(269),a(22)),c=a.n(i),o=a(32),l=a(11),d=a(20),u=(a(185),a(220)),b=a.n(u),j=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,n,r,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,r={method:a,url:"http://localhost:3000".concat(t),data:"POST"===a||"PATCH"===a?n:null},e.next=5,b()(r);case 5:if(s=e.sent){e.next=8;break}throw new Error("Something happened - no data");case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return j(e)},m=function(e,t){return j(e,"POST",t)},h=function(e,t){return j(e,"PATCH",t)},O=function(e){return j(e,"DELETE")};function x(e){var t=Object(n.useState)({status:"loading",data:null}),a=Object(l.a)(t,2),r=a[0],s=a[1],i=function(){var t=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}s({status:"error"}),t.next=14;break;case 4:return t.prev=4,t.next=7,p(e);case 7:a=t.sent,s({status:"success",data:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),s({status:"error"});case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout(i,3e3);return function(){return clearTimeout(e)}}),[]),{data:r,setData:s,getData:i}}var f=a(5),g=a(34),v=a(463),C=a(59),S=a(476),y=a(477),P=a(478),T=a(479),D=a(480),k=a(226),w=a(96),E=a(78),I=a(24),A=a(501),_=a(147),R=a(2),N=Object(_.a)((function(e){var t=Object.assign({},e);return Object(R.jsx)(A.a,Object(I.a)(Object(I.a)({},t),{},{classes:{flexContainer:"flexContainer",indicator:"indicator"},variant:"fullWidth",TabIndicatorProps:{children:Object(R.jsx)("span",{})},centered:!0}))}))({"& .indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:50,width:"100%",backgroundColor:"orange"}},"& .flexContainer":{flexDirection:"row",alignItems:"center",justifyContent:"center"}}),H=a(18),F=a(173),M=a(464),z=a(500),L=a(465),q=a(466),W=a(467),B=a(468),V=a(469),U=a(470),K=a(471),Y=a(223),G=a.n(Y),$=a(224),Z=a.n($),J=a(174),Q=a.n(J),X=a(175),ee=a.n(X),te=a(113),ae=a(97),ne=a(222),re={drawer:{zIndex:10},icon:{fontSize:35}},se=Object(v.a)((function(){return{container:{height:"100%",maxWidth:230,backgroundColor:"#142f43"},listItemIcon:{color:"orange",fontSize:17},linkCollapse:{color:"orange",fontSize:20,textTransform:"uppercase"},link:{textDecoration:"none",color:"#ffffff8c",fontSize:20},menuIcon:{color:"orange"},mainDivider:{backgroundColor:"#7a6032"},subDivider:{backgroundColor:"#9c98988c"}}})),ie=[{icon:Object(R.jsx)(ne.a,{}),to:"/subscribers",name:"Subscribers",tabsValue:0},{icon:Object(R.jsx)(te.b,{}),to:"/subscribers/filter",name:"Status",tabsValue:0},{icon:Object(R.jsx)(w.a,{}),to:"/subscribers/add",name:"Add New",tabsValue:0}],ce=[{icon:Object(R.jsx)(E.b,{}),to:"/campaigns",name:"Campaigns",tabsValue:1},{icon:Object(R.jsx)(te.b,{}),to:"/campaigns/filter",name:"Status",tabsValue:1},{icon:Object(R.jsx)(ae.b,{}),to:"/campaigns/add",name:"Add New",tabsValue:1}],oe=Object(H.a)({root:{"&.Mui-selected":{backgroundColor:"#102636"},"&:hover":{backgroundColor:"#102636"}}})(M.a);var le=function(e){var t=e.setTabsValue,a=se(),r=Object(d.e)(),s=Object(n.useState)(!1),i=Object(l.a)(s,2),c=i[0],o=i[1],u=Object(n.useState)(!1),b=Object(l.a)(u,2),j=b[0],p=b[1],m=Object(n.useState)(!1),h=Object(l.a)(m,2),O=h[0],x=h[1];return Object(n.useEffect)((function(){c||(p(!1),x(!1))}),[c,j,O]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(z.a,{anchor:"right",style:re.drawer,open:c,onClose:function(){return o(!1)},children:Object(R.jsxs)(L.a,{container:!0,direction:"column",justifyContent:"space-evenly",className:a.container,children:[Object(R.jsxs)(L.a,{item:!0,children:[Object(R.jsxs)(q.a,{children:[Object(R.jsxs)(M.a,{button:!0,onClick:function(){p(!j),x(!1)},className:a.linkCollapse,children:[Object(R.jsx)(W.a,{className:a.listItemIcon,children:Object(R.jsx)(ae.c,{})}),Object(R.jsx)(B.a,{primary:"Subscribers"}),j?Object(R.jsx)(Q.a,{}):Object(R.jsx)(ee.a,{})]}),Object(R.jsx)(V.a,{className:a.mainDivider}),Object(R.jsx)(U.a,{in:j,timeout:"auto",unmountOnExit:!0,children:ie.map((function(e){var n=e.icon,s=e.to,i=e.name,c=e.tabsValue;return Object(R.jsxs)("div",{children:[Object(R.jsx)(g.b,{to:s,onClick:function(){return t(c)},className:a.link,children:Object(R.jsxs)(oe,{button:!0,onClick:function(){return o(!1)},selected:s===r.pathname,children:[Object(R.jsx)(W.a,{className:a.listItemIcon,children:n}),Object(R.jsx)(B.a,{onClick:function(){return t(c)},children:i})]})}),Object(R.jsx)(V.a,{className:a.subDivider})]},"key-".concat(Object(F.uniqueId)()))}))})]}),Object(R.jsxs)(q.a,{children:[Object(R.jsxs)(M.a,{button:!0,onClick:function(){x(!O),p(!1)},className:a.linkCollapse,children:[Object(R.jsx)(W.a,{className:a.listItemIcon,children:Object(R.jsx)(ae.a,{})}),Object(R.jsx)(B.a,{primary:"Campaigns"}),O?Object(R.jsx)(Q.a,{}):Object(R.jsx)(ee.a,{})]}),Object(R.jsx)(V.a,{className:a.mainDivider}),Object(R.jsx)(U.a,{in:O,timeout:"auto",unmountOnExit:!0,children:ce.map((function(e){var n=e.icon,s=e.to,i=e.name,c=e.tabsValue;return Object(R.jsxs)("div",{children:[Object(R.jsx)(g.b,{to:s,onClick:function(){return t(c)},className:a.link,children:Object(R.jsxs)(oe,{button:!0,onClick:function(){return o(!1)},selected:s===r.pathname,children:[Object(R.jsx)(W.a,{className:a.listItemIcon,children:n}),Object(R.jsx)(B.a,{onClick:function(){return t(c)},children:i})]})}),Object(R.jsx)(V.a,{className:a.subDivider})]},"key-".concat(Object(F.uniqueId)()))}))})]})]}),Object(R.jsxs)(L.a,{item:!0,children:[Object(R.jsx)(g.b,{to:"/",onClick:function(){return t(2)},className:a.link,children:Object(R.jsxs)(oe,{button:!0,onClick:function(){return o(!1)},selected:"/"===r.pathname,children:[Object(R.jsx)(W.a,{className:a.listItemIcon,children:Object(R.jsx)(E.a,{})}),Object(R.jsx)(B.a,{onClick:function(){return t(2)},children:"Home"})]})}),Object(R.jsx)(V.a,{className:a.subDivider})]})]})}),Object(R.jsx)(K.a,{className:a.menuIcon,onClick:function(){return o(!c)},children:c?Object(R.jsx)(Z.a,{style:re.icon}):Object(R.jsx)(G.a,{style:re.icon})})]})},de=[{icon:Object(R.jsx)(w.a,{style:{color:"orange",fontSize:17}}),name:"Subscribers",to:"/subscribers"},{icon:Object(R.jsx)(E.b,{style:{color:"orange",fontSize:17}}),name:"Campaigns",to:"/campaigns"},{icon:Object(R.jsx)(E.a,{style:{color:"orange",fontSize:17}}),name:"Home",to:"/"}],ue=Object(v.a)((function(e){return{container:Object(f.a)({position:"fixed",top:0,backgroundColor:"#142f43",minHeight:"5vh"},e.breakpoints.down("xs"),{minHeight:"5vh",padding:"10px 0"}),navLinksContainer:{display:"flex",flex:1,justifyContent:"space-evenly",padding:"10px 0 20px 0"},logoContainer:Object(f.a)({},e.breakpoints.down("sm"),{flexGrow:1}),logo:{fontSize:30,color:"orange",cursor:"pointer"},link:{textDecoration:"none",color:"white",fontSize:15,letterSpacing:2,"&:first-child":{marginRight:e.spacing(4)}}}}));var be=function(e){var t=e.tabsValue,a=e.setTabsValue,r=Object(C.a)(),s=ue(),i=Object(S.a)(r.breakpoints.down("sm")),c=Object(d.e)();return Object(n.useEffect)((function(){var e=c.pathname;window.location.href.indexOf("subscribers")>-1&&0!==t?a(0):window.location.href.indexOf("campaigns")>-1&&1!==t?a(1):"/"===e&&2!==t&&a(2)}),[]),Object(R.jsxs)(y.a,{className:s.container,position:"static",children:[Object(R.jsx)(P.a,{}),Object(R.jsxs)(T.a,{children:[Object(R.jsx)("div",{className:s.logoContainer,children:Object(R.jsx)(g.b,{to:"/",children:Object(R.jsx)(k.a,{className:s.logo})})}),i?Object(R.jsx)(le,{setTabsValue:a}):Object(R.jsx)("div",{className:s.navLinksContainer,children:Object(R.jsx)(N,{onChange:function(e,t){return a(t)},value:t,children:de.map((function(e){var t=e.icon,a=e.name,n=e.to;return Object(R.jsx)(D.a,{icon:t,disableRipple:!0,label:a,component:g.b,to:n,className:s.link},a)}))})})]})]})},je=a(512),pe=a(508),me=a(10),he=["to","exact"],Oe={display:"flex",justifyContent:"center",padding:"8px 23px",width:130,fontSize:12,textDecoration:"none",letterSpacing:2,borderRadius:4,textTransform:"uppercase"},xe=Object(I.a)({color:"#003049",border:"3px solid #003049"},Oe),fe=Object(I.a)({color:"#fff",backgroundColor:"#003049",border:"3px solid #003049"},Oe),ge=function(e){var t,a=e.to,n=e.exact,r=Object(me.a)(e,he),s=Object(d.e)(),i=Object(d.h)(a);return t=n?s.pathname===i.pathname:s.pathname.startsWith(i.pathname),Object(R.jsx)(g.b,Object(I.a)({style:t?xe:fe,to:a},r))},ve={margin:"10px auto",maxWidth:480,paddingRight:20},Ce=function(e){var t=e.dataLinks,a=Object(C.a)(),n=Object(S.a)(a.breakpoints.down("sm"));return Object(R.jsx)(R.Fragment,{children:n?Object(R.jsx)("div",{children:Object(R.jsx)(d.a,{})}):Object(R.jsxs)(je.a,{children:[Object(R.jsx)("nav",{children:Object(R.jsx)(pe.a,{container:!0,style:ve,direction:"row",justifyContent:"space-evenly",children:t.map((function(e,t){var a=e.to,n=e.exact,r=e.name;return Object(R.jsx)(pe.a,{item:!0,md:3,children:Object(R.jsx)(ge,{to:a,exact:n,children:r})},t)}))})}),Object(R.jsx)("div",{children:Object(R.jsx)(d.a,{})})]})})},Se=a(482),ye=a(497),Pe=a(151),Te=a(513),De={appBar:{position:"absolute",bottom:0,backgroundColor:"#142f43",color:"#ffffff8c",minHeight:"5vh"},icon:{fontSize:25,cursor:"pointer",color:"orange",zIndex:-1},footer:{marginBottom:180,zIndex:1,textAlign:"center"}},ke=function(e){var t=e.label;return Object(R.jsx)("footer",{style:De.footer,children:Object(R.jsx)(y.a,{position:"static",color:"primary",style:De.appBar,children:Object(R.jsx)(Se.a,{maxWidth:"md",children:Object(R.jsx)(ye.a,{p:3,children:Object(R.jsxs)(L.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(Pe.a,{variant:"body1",children:t})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(Te.a,{href:"https://github.com/SzymonRojek",target:"_blank",children:Object(R.jsx)(w.b,{style:De.icon})})})]})})})})})},we=a(515),Ee=a(514),Ie=a.p+"static/media/graphic.d362aaa6.svg",Ae={box:{maxWidth:1224,margin:"auto",color:"#ffffff8c",backgroundColor:"#142f43",borderRadius:6},link:{color:"orange",padding:"0 10px"}},_e=Object(v.a)((function(e){return{"@media (min-width:960px)":{container:{marginTop:40},mainHeading:{padding:"100px"}},"@media (max-width:600px)":{container:{marginTop:40},homeImg:{maxWidth:200}},mainHeading:{color:"orange"},link:{color:"orange",padding:"0 10px"}}})),Re=function(){var e=_e();return Object(R.jsx)(je.a,{className:e.container,children:Object(R.jsx)(we.a,{boxShadow:3,p:4,style:Ae.box,children:Object(R.jsxs)(pe.a,{container:!0,direction:"row",spacing:4,children:[Object(R.jsx)(pe.a,{item:!0,sm:12,xs:12,md:6,children:Object(R.jsx)(Ee.a,{variant:"h1",gutterBottom:!0,md:12,className:e.mainHeading,children:"Hello, there."})}),Object(R.jsx)(pe.a,{item:!0,sm:6,md:6,children:Object(R.jsxs)(Ee.a,{variant:"h2",paragraph:!0,children:["This is the ",Object(R.jsx)("strong",{children:"Email Campaign "}),"application. You can write @mail to all your subscribers just by one CLICK - easy peasy!"]})}),Object(R.jsx)(pe.a,{item:!0,sm:6,xs:12,md:6,order:{md:4},children:Object(R.jsx)(pe.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)("img",{src:Ie,alt:"campaign",className:e.homeImg})})}),Object(R.jsx)(pe.a,{item:!0,xs:12,md:6,order:{md:3},children:Object(R.jsxs)(pe.a,{container:!0,spacing:3,children:[Object(R.jsx)(pe.a,{item:!0,children:Object(R.jsxs)(Ee.a,{variant:"h3",children:["The app is connected to the",Object(R.jsx)("span",{style:{display:"inline-block"},children:Object(R.jsxs)(Te.a,{href:"https://airtable.com/",target:"_blank",underline:"hover",style:Ae.link,children:[Object(R.jsx)(te.a,{})," Airtable"]})}),"base. Easily brings all information together - organize, connect and change them as needed."]})}),Object(R.jsx)(pe.a,{item:!0,children:Object(R.jsxs)(Ee.a,{variant:"h3",children:["Airtable base will provide its own ",Object(R.jsx)("strong",{children:"rest API "}),"to create, read, update, and delete any records."]})})]})}),Object(R.jsx)(pe.a,{item:!0,xs:12,order:{md:5},children:Object(R.jsxs)(pe.a,{container:!0,spacing:3,children:[Object(R.jsx)(pe.a,{item:!0,children:Object(R.jsxs)(Ee.a,{variant:"body2",children:["Add new subscriber, wait for an admin confirmation to get an active status and get more their details. Finally create an email campaign and send it to all your active subscribers just by one ",Object(R.jsx)("strong",{children:"simple click"}),"!"]})}),Object(R.jsx)(pe.a,{item:!0,children:Object(R.jsxs)(Ee.a,{variant:"body2",children:["If you would like to read the detailed description of the application or just to get more information about used technologies, please check out the",Object(R.jsx)(Te.a,{href:"https://github.com/SzymonRojek/email-campaign-react-airtable",target:"_blank",underline:"hover",style:Ae.link,children:"ReadMe"}),"file of this project."]})}),Object(R.jsx)(pe.a,{item:!0,children:Object(R.jsx)(Ee.a,{variant:"body2",children:"Thanks! \ud83d\ude4f"})})]})})]})})})},Ne=a(487),He=a(483),Fe=a(402),Me=a(484),ze={textAlign:"left",marginBottom:-20,color:"#142F43",letterSpacing:2},Le=Object(v.a)((function(e){return{tableContainer:{borderRadius:15,margin:"50px auto"}}})),qe=function(e){var t=e.subHeading,a=e.children,n=Le();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("header",{children:Object(R.jsx)("h3",{style:ze,children:t})}),Object(R.jsx)(He.a,{component:Fe.a,className:n.tableContainer,elevation:4,children:Object(R.jsx)(Me.a,{"aria-label":"subscribers table",children:a})})]})};qe.defaultProps={subHeading:""};var We=qe,Be=a(485),Ve=a(486),Ue=Object(v.a)((function(e){return{tableHeaderCell:{fontWeight:"bold",backgroundColor:"#142f43",color:e.palette.getContrastText(e.palette.primary.dark)}}})),Ke=function(e){var t=e.dataHeadTable,a=Ue();return Object(R.jsx)(Be.a,{children:Object(R.jsx)(Ve.a,{children:t.map((function(e,t){return Object(R.jsx)(Ne.a,{className:a.tableHeaderCell,children:e},"i-".concat(t))}))})})},Ye=a(488),Ge=function(e){var t=e.children;return Object(R.jsx)(Ye.a,{children:t})},$e=a(516),Ze=a(142),Je=a.n(Ze),Qe=a(231),Xe=a.n(Qe),et=function(e){return("active"===e||"sent"===e?"green":("pending"===e||"draft"===e)&&"orange")||e&&"crimson"},tt=a(227),at=a.n(tt),nt=function(e){return at()(e).format("YYYY/MM/DD")},rt=function(e,t){return e%2?t:""},st=a(38),it={name:st.c().required("name is required").matches(/^[aA-zZ\s]+$/,"only letters are required").min(3,"must be at least 6 characters").max(10,"must not exceed 10 characters"),surname:st.c().required("surname is required").matches(/^[aA-zZ\s]+$/,"only letters are required").min(3,"must be at least 3 characters").max(10,"must not exceed 10 characters"),email:st.c().required("email is required").matches(/^([^.@]+)(\.[^.@]+)*@([^.@]+\.)+([^.@]+)$/,"email is invalid")},ct={name:st.c().required("name is required").matches(/^[aA-zZ\s]+$/,"only letters are required").min(3,"must be at least 6 characters").max(10,"must not exceed 10 characters"),surname:st.c().required("surname is required").matches(/^[aA-zZ\s]+$/,"only letters are required").min(3,"must be at least 3 characters").max(10,"must not exceed 10 characters"),profession:st.c().required("profession is required").matches(/^[aA-zZ\s]+$/,"only letters are required").min(3,"must be at least 3 characters").max(10,"must not exceed 10 characters"),status:st.c().required("status is required").oneOf(["pending","blocked","active"]),email:st.c().required("email is required").matches(/^([^.@]+)(\.[^.@]+)*@([^.@]+\.)+([^.@]+)$/,"email is invalid"),salary:st.a().required("salary is required").typeError("must specify a number").min(3,"must be at least 3 numbers"),telephone:st.c().matches(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,"phone is invalid").required("phone is required")},ot=function(e){return e?st.b().shape(ct):st.b().shape(it)},lt=st.b().shape({title:st.c().required("title is required").min(3,"must be at least 3 characters").max(20,"must not exceed 20 characters"),description:st.c().required("description is required").min(3,"must be at least 3 characters").max(60,"must not exceed 60 characters")}),dt=function(e){if(e){var t=e.map((function(e){return e.fields.name})).filter(Boolean).length>0,a=function(e){return t?e.fields.name.toLowerCase():e.fields.title.toLowerCase()};e.sort((function(e,t){var n=a(e),r=a(t);return n<r?-1:n>r?1:0}))}},ut=function(e){var t=e.charAt(0).toUpperCase(),a=e.slice(1).toLowerCase();return"".concat(t).concat(a)},bt=a(16),jt=function(e){if(e)return Object(bt.a)(e).sort((function(e,t){return e.createdTime>t.createdTime?1:-1})).slice(-1)},pt={paragraph:{padding:"8px 20px",letterSpacing:2,textTransform:"uppercase",fontSize:11,width:80,display:"flex",justifyContent:"center"},icon:{marginLeft:10,color:"white"},pending:{color:"orange"},blocked:{color:"#d32f2f"}},mt=Object(v.a)((function(e){return{status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"#ddd",borderRadius:8,padding:"3px 10px",display:"inline-block"}}})),ht=function(e){var t=e.subscriber,a=e.index,n=e.children,r=e.setSelectedData,s=e.handleSubscriberDetails,i=e.setOpenConfirmPopup,c=e.setContentPopup,o=mt(),l=Object(d.e)();return Object(R.jsxs)(Ve.a,{style:{backgroundColor:rt(a,"#F5F5F5")},children:[n,Object(R.jsx)(Ne.a,{children:Object(R.jsx)(L.a,{container:!0,alignItems:"center",children:Object(R.jsx)(L.a,{item:!0,children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:ut(t.fields.name)})})})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:ut(t.fields.surname)})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:t.fields.profession})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)("span",{children:Object(R.jsx)(Pe.a,{className:o.status,style:Object(I.a)({backgroundColor:et(t.fields.status)},pt.paragraph),children:t.fields.status},a)})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:nt(t.createdTime)})}),l.pathname!=="/subscribers/details/".concat(t.id)&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Ne.a,{children:Object(R.jsx)($e.a,{"aria-label":"subscriber-details",color:"success",variant:"contained",startIcon:Object(R.jsx)(Xe.a,{style:pt.icon}),onClick:function(){r(t),s(t),"pending"===t.fields.status?c({title:"Please wait...",text:Object(R.jsxs)(R.Fragment,{children:[ut(t.fields.name),"'s status is",Object(R.jsx)("span",{style:pt.pending,children:Object(R.jsx)("strong",{children:" pending "})}),"at the moment - subscription has to be confirmed by an admin \ud83d\ude42"]}),colorButton:"error"}):"blocked"!==t.fields.status||c({title:"Unfortunately...",text:Object(R.jsxs)(R.Fragment,{children:[ut(t.fields.name),"'s status is",Object(R.jsx)("span",{style:pt.blocked,children:Object(R.jsx)("strong",{children:" blocked "})}),"- can not get an access to more details \ud83d\ude41"]}),colorButton:"error"})}})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)($e.a,{"aria-label":"delete",color:"error",variant:"contained",startIcon:Object(R.jsx)(Je.a,{style:pt.icon}),onClick:function(){i(!0),r(t),c({title:ut(t.fields.name)})}},l.key)})]})]},"".concat(t.id))},Ot=function(e){var t=e.subHeading,a=e.dataHeadTable,n=e.subscribersData,r=e.handleSubscriberDetails,s=e.setSelectedData,i=e.setContentPopup,c=e.setOpenConfirmPopup;return Object(R.jsxs)(We,{subHeading:t,children:[Object(R.jsx)(Ke,{dataHeadTable:a}),Object(R.jsx)(Ge,{children:n&&n.map((function(e,t){return Object(R.jsx)(ht,{children:Object(R.jsxs)(Ne.a,{component:"th",scope:"row",children:[++t,"."]}),subscriber:Object(I.a)(Object(I.a)({},e),{},{group:"subscribers"}),index:t,setSelectedData:s,handleSubscriberDetails:r,setContentPopup:i,setOpenConfirmPopup:c},"id-".concat(e.id))}))})]})},xt=(a(396),function(e){var t=e.titleOne,a=e.titleTwo,n=e.titleThree;return Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("p",{className:"error-text error-mainText",children:t}),Object(R.jsx)("p",{className:"error-text error-subText",children:a}),Object(R.jsx)("p",{className:"error-text error-subText",children:n})]})}),ft=(a(397),function(e){var t=e.title;return Object(R.jsxs)("div",{className:"loader-container",children:[Object(R.jsx)("div",{className:"load"}),Object(R.jsxs)("div",{className:"text-container",children:[Object(R.jsxs)("p",{className:"loader-text",children:[t," Data"]}),Object(R.jsxs)("div",{className:"dot-container",children:[Object(R.jsx)("p",{className:"loader-text",children:"loading"}),Object(R.jsx)("div",{className:"dot-flashing"})]})]})]})}),gt=a(517),vt=a(519),Ct=a(520),St={titleContainer:{display:"flex"},title:{flexGrow:1}},yt=Object(v.a)((function(e){var t;return t={},Object(f.a)(t,e.breakpoints.down("xs"),{button:{maxWidth:"28px",maxHeight:"28px",minWidth:"28px",minHeight:"28px"},buttonText:{fontSize:12,color:"white !important"},heading:{fontSize:18},contentText:{fontSize:15}}),Object(f.a)(t,e.breakpoints.up("sm"),{button:{height:35,color:"white !important"},heading:{fontSize:25},contentText:{fontSize:20},paper:{maxWidth:500}}),t})),Pt=function(e){var t=e.openInfoPopup,a=e.setOpenInfoPopup,n=e.contentPopup,r=yt();return Object(R.jsxs)(gt.a,{open:t,classes:{paper:r.paper},children:[Object(R.jsx)(vt.a,{children:Object(R.jsxs)("div",{style:St.titleContainer,children:[Object(R.jsx)("p",{style:St.title,className:r.heading,children:n.title}),Object(R.jsx)($e.a,{"aria-label":"close",className:r.button,variant:"contained",color:n.colorButton,onClick:function(){if(a(!1),n.switch)return n.switch},children:Object(R.jsx)("span",{className:r.buttonText,children:"close"})})]})}),Object(R.jsx)(Ct.a,{dividers:!0,children:Object(R.jsx)("p",{className:r.contentText,children:n.text})})]})},Tt={dialog:{display:"flex",justifyContent:"space-around",padding:"30px 0 25px 0"},span:{color:"crimson"},button:{color:"white"}},Dt=function(e){var t=e.openConfirmPopup,a=e.setOpenConfirmPopup,n=e.handleRemoveItem,r=e.contentPopup;return Object(R.jsxs)(gt.a,{open:t,maxWidth:"sm",children:[Object(R.jsx)(vt.a,{children:Object(R.jsx)("div",{children:Object(R.jsxs)(Ee.a,{variant:"h6",p:2,children:["Are you sure you want to remove",Object(R.jsxs)("span",{style:Tt.span,children:[" ",r.title]})," ?"]})})}),Object(R.jsxs)(Ct.a,{dividers:!0,style:Tt.dialog,children:[Object(R.jsx)($e.a,{variant:"contained",color:"error",onClick:function(){return n()},children:"YES"}),Object(R.jsx)($e.a,{variant:"contained",color:"success",style:Tt.button,onClick:function(){return a(!1)},children:"NO"})]})]})},kt={textAlign:"center",marginTop:60,marginBottom:40,color:"#142F43",letterSpacing:2,wordSpacing:15},wt=function(e){var t=e.label;return Object(R.jsx)("h1",{style:kt,children:t})},Et=["No","Name","Surname","Profession","Status","Created","Details","Delete"],It=["Name","Surname","Profession","Status","Created"],At=["Email","Salary","Telephone"],_t=function(e){var t=e.subscribersData,a=e.setSelectedData,n=e.handleSubscriberDetails,r=e.setOpenConfirmPopup,s=e.setContentPopup;dt(t.data);var i=jt(t.data);return Object(R.jsx)(R.Fragment,{children:"loading"===t.status?Object(R.jsx)(ft,{title:"Subscribers"}):"error"===t.status?Object(R.jsx)(xt,{titleOne:"ERROR MESSAGE",titleTwo:"Check access to the data from airtable base.",titleThree:"Also, please check your internet connection."}):Object(R.jsxs)(Se.a,{children:["success"!==t.status||t.data.length?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(wt,{label:"Subscribers:"}),Object(R.jsx)(Ot,{subHeading:"List:",dataHeadTable:Et,subscribersData:t.data,setSelectedData:a,handleSubscriberDetails:n,setContentPopup:s,setOpenConfirmPopup:r})]}):Object(R.jsx)(xt,{titleOne:"There are not subscribers added yet.",titleTwo:"Please add a new subscriber.",titleThree:"\ud83d\ude42"}),t.data.length>1?Object(R.jsx)(Ot,{subHeading:"Latest added Subscriber:",dataHeadTable:Et,subscribersData:i,setSelectedData:a,handleSubscriberDetails:n,setContentPopup:s,setOpenConfirmPopup:r}):""]})})},Rt=function(e){var t=e.subHeading,a=e.generalDataHeadTable,n=e.subscribersData,r=e.status,s=e.handleSubscriberDetails,i=e.setSelectedData,c=e.setContentPopup,o=e.setOpenConfirmPopup;return n&&n.some((function(e){return e.fields.status===r}))?Object(R.jsxs)(We,{subHeading:t,children:[Object(R.jsx)(Ke,{dataHeadTable:a}),Object(R.jsx)(Ge,{children:n&&n.filter((function(e){return e.fields.status===r})).map((function(e,t){return Object(R.jsx)(ht,{children:Object(R.jsxs)(Ne.a,{component:"th",scope:"row",children:[++t,"."]}),subscriber:Object(I.a)(Object(I.a)({},e),{},{group:"subscribers"}),index:t,setSelectedData:i,handleSubscriberDetails:s,setContentPopup:c,setOpenConfirmPopup:o},"id-".concat(e.id))}))})]}):""},Nt=function(e){var t=e.subscribersData,a=e.handleSubscriberDetails,n=e.setOpenConfirmPopup,r=e.setSelectedData,s=e.setContentPopup;return Object(R.jsx)(R.Fragment,{children:"loading"===t.status?Object(R.jsx)(ft,{title:"Subscribers"}):"error"===t.status?Object(R.jsx)(xt,{titleOne:"ERROR MESSAGE",titleTwo:"Probably there is no an access to the internet.",titleThree:"Contact with your internet provider."}):Object(R.jsx)(Se.a,{children:"success"!==t.status||t.data.length?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(wt,{label:"Subscribers status:"}),Object(R.jsx)(Rt,{subHeading:"Active:",generalDataHeadTable:Et,subscribersData:t.data,status:"active",setSelectedData:r,handleSubscriberDetails:a,setContentPopup:s,setOpenConfirmPopup:n}),Object(R.jsx)(Rt,{subHeading:"Pending:",generalDataHeadTable:Et,subscribersData:t.data,status:"pending",setSelectedData:r,handleSubscriberDetails:a,setContentPopup:s,setOpenConfirmPopup:n}),Object(R.jsx)(Rt,{subHeading:"Blocked:",generalDataHeadTable:Et,subscribersData:t.data,status:"blocked",setSelectedData:r,handleSubscriberDetails:a,setContentPopup:s,setOpenConfirmPopup:n})]}):Object(R.jsx)(xt,{titleOne:"There are not subscribers added yet.",titleTwo:"Please add a new subscriber.",titleThree:"\ud83d\ude42"})})})},Ht=function(e){var t=Object(n.useState)({status:"loading",data:null}),a=Object(l.a)(t,2),r=a[0],s=a[1],i=function(){var t=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(e);case 3:a=t.sent,s({status:"success",data:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({status:"error"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout(i,2e3);return function(){return clearTimeout(e)}}),[]),{itemData:r,setItemData:s}},Ft=function(e){var t=e.subscribersData,a=Object(d.g)().id,n="/subscribers/".concat(a),r=Ht(n).itemData,s=null;return void 0!==a&&null!==t.data&&(s=Boolean(t.data.find((function(e){return e.id===a})))),!1===s||"error"===r.status?Object(R.jsx)(xt,{titleOne:"Unfortunately, Subscriber does not exist.",titleTwo:"Check the url address.",titleThree:"Back to Subscribers."}):Object(R.jsx)(R.Fragment,{children:"loading"===r.status?Object(R.jsx)(ft,{title:"Subscriber"}):Object(R.jsx)(Se.a,{children:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(wt,{label:"Subscribers Details:"}),Object(R.jsxs)(We,{subHeading:"General:",children:[Object(R.jsx)(Ke,{dataHeadTable:It}),Object(R.jsx)(Ye.a,{children:r&&[r.data].map((function(e,t){return Object(R.jsx)(ht,{index:t,subscriber:e},"id-".concat(e.id))}))})]}),Object(R.jsxs)(We,{subHeading:"Details:",children:[Object(R.jsx)(Ke,{dataHeadTable:At}),Object(R.jsx)(Ye.a,{children:r&&[r.data].map((function(e,t){var a,n,r;return Object(R.jsxs)(Ve.a,{children:[Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:null===(a=e.fields)||void 0===a?void 0:a.email})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:null===(n=e.fields)||void 0===n?void 0:n.salary})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:null===(r=e.fields)||void 0===r?void 0:r.telephone})})]},"i-".concat(t))}))})]})]})})})},Mt=a(40),zt=a(99),Lt=a(518),qt=a(525),Wt=a(493),Bt=a(494),Vt=a(521),Ut=a(498),Kt=a(506),Yt=["ref"],Gt=Object(v.a)({root:{"& .MuiOutlinedInput-input":{color:"white"},"& .MuiInputLabel-root":{color:"white"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiSvgIcon-root":{color:"white"},"&:hover .MuiOutlinedInput-input":{color:"white"},"&:hover .MuiInputLabel-root":{color:"white"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"white"},"& .MuiInputLabel-root.Mui-focused":{color:"white"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#ffa500"}}}),$t={textError:{color:"crimson",paddingTop:10}},Zt=function(e){var t=Object.assign({},e),a=t.control,n=t.name,r=t.error,s=t.message,i=t.defaultValue,c=t.data,o=Gt(),l="".concat(n,"-id");return Object(R.jsxs)(Vt.a,{fullWidth:!0,className:o.root,children:[Object(R.jsx)(Mt.a,{render:function(e){var t=e.field,a=t.ref,n=Object(me.a)(t,Yt);return Object(R.jsx)(Ut.a,Object(I.a)(Object(I.a)({},n),{},{inputRef:a,id:l,error:r,children:c.map((function(e){var t=e.value,a=e.label;return Object(R.jsx)(Kt.a,{value:t,children:a},"key-".concat(a))}))}))},control:a,name:n,defaultValue:i}),Object(R.jsx)(Pe.a,{variant:"inherit",style:$t.textError,children:s})]})},Jt=a(7),Qt=a.n(Jt),Xt=a(502),ea=a(232),ta=a(499),aa={sx:Object(f.a)({color:"#fff"},"&.".concat(ea.a.shrink),{color:"#ffa500 !important",letterSpacing:1})},na=Object(ta.a)({root:{"& .MuiInputBase-root":{color:"white"},"& label.Mui-focused":{color:"#fff"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#fff"},"&.Mui-focused fieldset":{borderColor:"#ffa500"}}}})(Xt.a),ra=function(e){var t=e.name,a=e.error,n=e.value,r=e.onChange,s=e.rows,i=e.multiline;return Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(na,{variant:"outlined",id:t,name:t,label:t,value:n,error:a,onChange:r,required:!0,fullWidth:!0,margin:"dense",rows:s,multiline:i,InputLabelProps:aa})})};ra.defaultProps={rows:5};var sa=ra,ia=["ref"],ca={color:"crimson",paddingTop:4};sa.propTypes={name:Qt.a.string.isRequired,control:Qt.a.object,error:Qt.a.bool.isRequired,message:Qt.a.string,rows:Qt.a.number.isRequired,multiline:Qt.a.bool},sa.defaultProps={rows:5};var oa,la,da,ua,ba=function(e){var t=e.name,a=e.control,n=e.error,r=e.message,s=e.rows,i=e.multiline;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Mt.a,{name:t,control:a,defaultValue:"",rules:{required:!0},render:function(e){var t=e.field,a=t.ref,r=Object(me.a)(t,ia);return Object(R.jsx)(sa,Object(I.a)(Object(I.a)({},r),{},{inputRef:a,error:n,rows:s,multiline:i}))}}),Object(R.jsx)(Ee.a,{variant:"inherit",style:ca,children:r})]})},ja=a(524),pa=a(503),ma=function(e){var t=e.sx,a=e.style,n=e.label,r=e.onChange,s=e.defaultValue;return Object(R.jsx)(ja.a,{control:Object(R.jsx)(pa.a,{sx:t,defaultValue:s,onChange:r}),label:Object(R.jsx)("span",{style:a,children:n})})},ha=a(8),Oa=Object(ha.a)($e.a)((function(e){var t=e.bgc;return{":hover":{backgroundColor:e.hover},color:"white",backgroundColor:t,minWidth:120,fontSize:18,letterSpacing:2,margin:"20px 0"}})),xa=function(e){var t=e.bgc,a=e.hover,n=e.ariaLabel,r=e.label,s=e.type,i=e.onClick;return Object(R.jsx)(Oa,{bgc:t,hover:a,"aria-label":n,type:s,onClick:i,children:r})},fa=[{value:"change status",label:"change status*"},{value:"blocked",label:"blocked"},{value:"pending",label:"pending"},{value:"active",label:"active"}],ga={paper:{maxWidth:600,margin:"auto",borderRadius:8,backgroundColor:"#142F43"},typographyRequiredText:{color:"orange",letterSpacing:2,wordSpacing:3},titlePopup:{color:"green",fontWeight:"bold"},subscriberName:{color:"green"},labelCheckbox:{fontSize:"1rem",color:"orange",paddingLeft:8,letterSpacing:1},checkbox:{transform:"scale(1.1)",color:"orange","&.Mui-checked":{color:"orange"}},icon:{color:"orange",fontSize:30,marginTop:6}},va=function(e){var t,a,r,s,i,c,o,d,u,b,j,p,h,O,x=e.getSubscribersData,f=e.setOpenInfoPopup,g=e.setContentPopup,v=Object(n.useState)(!1),C=Object(l.a)(v,2),S=C[0],y=C[1],P=Object(Mt.e)({resolver:Object(zt.a)(ot(S))}),T=P.handleSubmit,D=P.control,k=P.formState,w=P.formState.errors,E=P.reset;Object(n.useEffect)((function(){k.isSubmitSuccessful&&E({name:"",surname:"",profession:"",status:"change status",email:"",salary:"",telephone:""})}),[k,E]);return Object(R.jsxs)(Se.a,{children:[Object(R.jsx)(wt,{label:"Add Subscriber:"}),Object(R.jsx)(Lt.a,{elevation:14,style:ga.paper,children:Object(R.jsx)("form",{onSubmit:T((function(e){m("/subscribers",{fields:{name:e.name,surname:e.surname,email:e.email,profession:S?e.profession:"",status:S?e.status:"pending",salary:S?String(e.salary):"",telephone:S?e.telephone:""}}),g({title:Object(R.jsx)("span",{style:ga.titlePopup,children:"That's great \ud83c\udf8a"}),text:Object(R.jsxs)(R.Fragment,{children:["Subscriber",Object(R.jsx)("span",{style:ga.subscriberName,children:Object(R.jsxs)("strong",{children:[" ",ut(e.name)," "]})}),"has been added to the Airtable \ud83d\ude01"]}),colorButton:"success"}),x(),f(!0),setTimeout((function(){f(!1)}),3e3)})),children:Object(R.jsx)(we.a,{px:3,py:3,children:Object(R.jsxs)(L.a,{container:!0,spacing:4,children:[Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"body2",style:ga.typographyRequiredText,children:"*Fields required"})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:D,name:"name",error:!!w.name,message:null!==(t=null===(a=w.name)||void 0===a?void 0:a.message)&&void 0!==t?t:""})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:D,name:"surname",error:!!w.surname,message:null!==(r=null===(s=w.surname)||void 0===s?void 0:s.message)&&void 0!==r?r:""})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:D,name:"email",error:!!w.email,message:null!==(i=null===(c=w.email)||void 0===c?void 0:c.message)&&void 0!==i?i:""})}),Object(R.jsxs)(L.a,{container:!0,item:!0,xs:12,children:[Object(R.jsx)(L.a,{item:!0,xs:11,children:Object(R.jsx)(ma,{sx:ga.checkbox,style:ga.labelCheckbox,defaultValue:!1,onChange:function(){return y(!S)},label:"Add More Details"})}),Object(R.jsx)(L.a,{item:!0,xs:1,children:S?Object(R.jsx)(Wt.a,{style:ga.icon}):Object(R.jsx)(Bt.a,{style:ga.icon})})]}),Object(R.jsx)(qt.a,{in:S,timeout:"auto",unmountOnExit:!0,children:Object(R.jsx)(we.a,{px:2,py:3,children:Object(R.jsxs)(L.a,{container:!0,spacing:4,children:[Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(Zt,{control:D,name:"status",error:!!w.status,message:null!==(o=null===(d=w.status)||void 0===d?void 0:d.message)&&void 0!==o?o:"",defaultValue:"change status",data:fa})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:D,name:"profession",error:!!w.profession,message:null!==(u=null===(b=w.profession)||void 0===b?void 0:b.message)&&void 0!==u?u:""})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:D,name:"salary",error:!!w.salary,message:null!==(j=null===(p=w.salary)||void 0===p?void 0:p.message)&&void 0!==j?j:""})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:D,name:"telephone",error:!!w.telephone,message:null!==(h=null===(O=w.telephone)||void 0===O?void 0:O.message)&&void 0!==h?h:""})})]})})}),Object(R.jsx)(L.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:Object(R.jsx)(L.a,{item:!0,children:Object(R.jsx)(xa,{hover:"#286a2b",bgc:"#2e7d32",label:"submit",ariaLabel:"add",type:"submit"})})})]})})})})]})},Ca=["No","Title","Content","Created","Status","Edit","Remove"],Sa=a(496),ya=a(495),Pa=a.p+"static/media/success.739fd184.png",Ta={typography:{padding:"9px 20px",letterSpacing:2,textTransform:"uppercase",fontSize:11,width:60,display:"flex",justifyContent:"center"},button:{fontSize:12,letterSpacing:2,fontWeight:"bold",color:"white"},icon:{marginLeft:10},toolip:{height:"50px",width:"50px"}},Da=Object(v.a)((function(){return{status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"#ddd",borderRadius:8,padding:"3px 10px",display:"inline-block"}}})),ka=function(e){var t=e.campaign,a=e.index,n=e.children,r=e.setSelectedData,s=e.handleEditDetailsCampaign,i=e.setOpenConfirmPopup,c=e.setContentPopup,o=Object(d.f)(),l=Da();return Object(R.jsxs)(Ve.a,{style:{backgroundColor:rt(a,"#F5F5F5")},children:[n,Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:ut(t.fields.title)})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:t.fields.description})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"subtitle1",children:nt(t.createdTime)})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)("span",{children:Object(R.jsx)(Pe.a,{className:l.status,style:Object(I.a)({backgroundColor:et(t.fields.status)},Ta.typography),children:t.fields.status},a)})}),Object(R.jsx)(Ne.a,{children:"draft"===t.fields.status?Object(R.jsx)($e.a,{style:Ta.button,"aria-label":"edit",color:"success",variant:"contained",onClick:function(){s(t),o("/campaigns/details/".concat(t.id))},children:"Edit"}):Object(R.jsx)("div",{children:Object(R.jsx)(Sa.a,{title:"No edit",placement:"right-start",TransitionComponent:ya.a,children:Object(R.jsx)("img",{src:Pa,alt:"success-icon",style:Ta.toolip})})})}),Object(R.jsx)(Ne.a,{children:Object(R.jsx)($e.a,{"aria-label":"delete",color:"error",variant:"contained",startIcon:Object(R.jsx)(Je.a,{style:Ta.icon}),onClick:function(){i(!0),r(t),c({title:ut(t.fields.title)})}})})]},"".concat(t.id))},wa=function(e){var t=e.subHeading,a=e.dataHeadEmailTable,n=e.campaignsData,r=e.handleEditDetailsCampaign,s=e.setSelectedData,i=e.setContentPopup,c=e.setOpenConfirmPopup;return Object(R.jsxs)(We,{subHeading:t,children:[Object(R.jsx)(Ke,{dataHeadTable:a}),Object(R.jsx)(Ge,{children:n&&n.map((function(e,t){return Object(R.jsx)(ka,{children:Object(R.jsxs)(Ne.a,{component:"th",scope:"row",children:[++t,"."]}),campaign:Object(I.a)(Object(I.a)({},e),{},{group:"campaigns"}),index:t,setSelectedData:s,handleEditDetailsCampaign:r,setContentPopup:i,setOpenConfirmPopup:c},"id-".concat(e.id))}))})]})},Ea=function(e){var t=e.campaignsData,a=e.setSelectedData,n=e.handleEditDetailsCampaign,r=e.setOpenConfirmPopup,s=e.setContentPopup;dt(t.data);var i=jt(t.data);return Object(R.jsx)(R.Fragment,{children:"loading"===t.status?Object(R.jsx)(ft,{title:"Campaigns"}):"error"===t.status?Object(R.jsx)(xt,{titleOne:"ERROR MESSAGE",titleTwo:"Check access to the data from airtable base.",titleThree:"Also, please check your internet connection."}):Object(R.jsxs)(Se.a,{style:{marginTop:40,backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(5px)",borderRadius:6},children:["success"!==t.status||t.data.length?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(wt,{label:"Campaigns:"}),Object(R.jsx)(wa,{subHeading:"List:",dataHeadEmailTable:Ca,campaignsData:t.data,setSelectedData:a,handleEditDetailsCampaign:n,setContentPopup:s,setOpenConfirmPopup:r})]}):Object(R.jsx)(xt,{titleOne:"There are not campaigns added yet.",titleTwo:"Please add a new campaign.",titleThree:"\ud83d\ude42"}),t.data.length>1?Object(R.jsx)(wa,{subHeading:"Latest added Campaign:",dataHeadEmailTable:Ca,campaignsData:i,handleEditDetailsCampaign:n,setSelectedData:a,setContentPopup:s,setOpenConfirmPopup:r}):""]})})},Ia=function(e){var t=e.subHeading,a=e.dataHeadEmailTable,n=e.campaignsData,r=e.status,s=e.handleEditDetailsCampaign,i=e.setSelectedData,c=e.setContentPopup,o=e.setOpenConfirmPopup;return n&&n.some((function(e){return e.fields.status===r}))?Object(R.jsxs)(We,{subHeading:t,children:[Object(R.jsx)(Ke,{dataHeadTable:a}),Object(R.jsx)(Ge,{children:n&&n.filter((function(e){return e.fields.status===r})).map((function(e,t){return Object(R.jsx)(ka,{children:Object(R.jsxs)(Ne.a,{component:"th",scope:"row",children:[++t,"."]}),campaign:Object(I.a)(Object(I.a)({},e),{},{group:"campaigns"}),index:t,setSelectedData:i,handleEditDetailsCampaign:s,setContentPopup:c,setOpenConfirmPopup:o},"id-".concat(e.id))}))})]}):""},Aa=function(e){var t=e.campaignsData,a=e.handleEditDetailsCampaign,n=e.setOpenConfirmPopup,r=e.setSelectedData,s=e.setContentPopup;return Object(R.jsx)(R.Fragment,{children:"loading"===t.status?Object(R.jsx)(ft,{title:"Campaigns"}):"error"===t.status?Object(R.jsx)(xt,{titleOne:"ERROR MESSAGE",titleTwo:"Probably there is no an access to the internet.",titleThree:"Contact with your internet provider."}):Object(R.jsx)(Se.a,{children:"success"!==t.status||t.data.length?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(wt,{label:"Campaigns Status:"}),Object(R.jsx)(Ia,{subHeading:"Sent:",dataHeadEmailTable:Ca,campaignsData:t.data,status:"sent",setSelectedData:r,handleEditDetailsCampaign:a,setContentPopup:s,setOpenConfirmPopup:n}),Object(R.jsx)(Ia,{subHeading:"Draft:",dataHeadEmailTable:Ca,campaignsData:t.data,status:"draft",setSelectedData:r,handleEditDetailsCampaign:a,setContentPopup:s,setOpenConfirmPopup:n})]}):Object(R.jsx)(xt,{titleOne:"There are not campaigns added yet.",titleTwo:"Please add a new campaign.",titleThree:"\ud83d\ude42"})})})},_a=a(146),Ra={paper:{maxWidth:600,margin:"20px auto",borderRadius:8,backgroundColor:"#142F43"},typography:{color:"orange",letterSpacing:2,wordSpacing:3}},Na=function(e){var t,a,n,r,s=e.handleSubmit,i=e.handleDraftData,c=e.handleSendData,o=e.control,l=e.errors;return Object(R.jsx)(Fe.a,{elevation:14,style:Ra.paper,children:Object(R.jsx)("form",{children:Object(R.jsx)(ye.a,{px:3,py:3,children:Object(R.jsxs)(L.a,{container:!0,spacing:4,children:[Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(Pe.a,{color:"textSecondary",variant:"body2",style:Ra.typography,children:"*Fields required"})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:o,name:"title",error:!!l.title,message:null!==(t=null===(a=l.title)||void 0===a?void 0:a.message)&&void 0!==t?t:""})}),Object(R.jsx)(L.a,{item:!0,xs:12,children:Object(R.jsx)(ba,{control:o,name:"description",multiline:!0,rows:5,error:!!l.description,message:null!==(n=null===(r=l.description)||void 0===r?void 0:r.message)&&void 0!==n?n:""})}),Object(R.jsxs)(L.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:[Object(R.jsx)(L.a,{item:!0,children:Object(R.jsx)(xa,{hover:"#cf890a",bgc:"#ffa500",label:"draft",ariaLabel:"draft",type:"submit",onClick:s(i)})}),Object(R.jsx)(L.a,{item:!0,children:Object(R.jsx)(xa,{hover:"#286a2b",bgc:"#2e7d32",label:"send",ariaLabel:"send",type:"submit",onClick:s(c)})})]})]})})})})},Ha=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_ID:"appn4qP4vZb4Ut2R0",REACT_APP_API_KEY:"keyyvx5Ss7tu3NGfF",REACT_APP_MAIL_USER:"service_r63xlav",REACT_APP_MAIL_TEMPLATE:"template_s3uxbxy",REACT_APP_MAIL_KEY:"user_2311qw1klmbT6nJ4OrR98"}),Fa=(Ha.REACT_APP_MAIL_USER,Ha.REACT_APP_MAIL_TEMPLATE),Ma=Ha.REACT_APP_MAIL_KEY,za=function(e){var t=e.campaignsData,a=e.subscribersData,r=e.getCampaignsData,s=e.setOpenInfoPopup,i=e.setContentPopup,c=Object(Mt.e)({resolver:Object(zt.a)(lt)}),o=c.handleSubmit,u=c.formState.errors,b=c.setValue,j=c.control,p=Object(d.g)().id,m=Object(d.f)(),O="/campaigns/".concat(p),x=Ht(O).itemData,f=Object(n.useState)(!1),g=Object(l.a)(f,2),v=g[0],C=g[1],S={title:x.data?x.data.fields.title:"",description:x.data?x.data.fields.description:""};Object(n.useEffect)((function(){var e=setTimeout((function(){b("title",S.title),b("description",S.description)}),300);return function(){return clearTimeout(e)}}),[b,S.title,S.description]);var y=function(e,t){h(O,{fields:{title:ut(e.title),description:ut(e.description),status:t}})},P=null;if(void 0!==p&&null!==t.data&&(P=Boolean(t.data.find((function(e){return e.id===p})))),!1===P||"error"===x.status)return Object(R.jsx)(xt,{titleOne:"Unfortunately, this Campaign does not exist.",titleTwo:"Check the url address.",titleThree:"Back to Subscribers."});var T=function(e,t,a){var n=e.title!==x.data.fields.title||e.description!==x.data.fields.description,r=Object(R.jsx)("span",{style:t?{color:"green"}:{color:"orange"},children:Object(R.jsxs)("strong",{children:[" ",ut(e.title)," "]})});i({title:t?Object(R.jsx)("span",{style:{color:"green",fontWeight:"bold"},children:"That's great \ud83c\udf8a"}):Object(R.jsx)("span",{style:{color:"orange",fontWeight:"bold"},children:"Still draft... \ud83d\ude42"}),text:n&&t?Object(R.jsxs)(R.Fragment,{children:[" Campaign ",r," has been changed and finally sent \ud83d\ude42"]}):n||t?!n&&t?Object(R.jsxs)(R.Fragment,{children:["Campaign ",r," has not been changed but finally sent \ud83d\ude42"]}):n&&!t?Object(R.jsxs)(R.Fragment,{children:["Campaign ",r," has been changed and status still is draft \ud83d\ude42"]}):Object(R.jsxs)(R.Fragment,{children:["Campaign ",r," has not been changed but finally sent \ud83d\ude42"]}):Object(R.jsxs)(R.Fragment,{children:["Campaign ",r," has not been changed and status still is draft \ud83d\ude42"]}),colorButton:"success"}),s(!0),function(){var e=setTimeout((function(){s(!1),a()}),3e3)}()};return Object(R.jsx)(R.Fragment,{children:v?Object(R.jsx)(xt,{titleOne:"Unfortunately, the Campaign has not been sent",titleTwo:"Probably there is a problem with EmailJS application at the moment",titleThree:"That's why the Campaign has been drafted"}):"loading"===x.status?Object(R.jsx)(ft,{title:"Campaign Details"}):"error"===x.status?Object(R.jsx)(xt,{titleOne:"ERROR MESSAGE",titleTwo:"Check the url address again.",titleThree:"Maybe there is no an access to the internet."}):Object(R.jsxs)(Se.a,{children:[Object(R.jsx)(wt,{label:"Edit Campaign:"}),Object(R.jsx)(Na,{handleSubmit:o,handleDraftData:function(e){e.title===x.data.fields.title&&e.description===x.data.fields.description||(y(e,"draft"),r()),T(e,!1,(function(){return m("/campaigns")}))},handleSendData:function(e){a.data&&a.data.filter((function(e){return"active"===e.fields.status})).forEach((function(t){var a={name:t.fields.name,email:t.fields.email,title:e.title,description:e.description};_a.a.send("ereyeryery",Fa,a,Ma).then((function(){y(e,"sent"),T(e,!0,m("/campaigns")),r()})).catch((function(e){console.log("Unfortunately,",e),C(!0)}))}))},control:j,errors:u})]})})},La=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_ID:"appn4qP4vZb4Ut2R0",REACT_APP_API_KEY:"keyyvx5Ss7tu3NGfF",REACT_APP_MAIL_USER:"service_r63xlav",REACT_APP_MAIL_TEMPLATE:"template_s3uxbxy",REACT_APP_MAIL_KEY:"user_2311qw1klmbT6nJ4OrR98"}),qa=(La.REACT_APP_MAIL_USER,La.REACT_APP_MAIL_TEMPLATE),Wa=La.REACT_APP_MAIL_KEY,Ba=function(e,t){m("/campaigns",{fields:{title:ut(e.title),description:ut(e.description),status:t}})},Va=function(e){var t=e.subscribersData,a=e.getCampaignsData,r=e.setOpenInfoPopup,s=e.setContentPopup,i=Object(Mt.e)({resolver:Object(zt.a)(lt)}),c=i.handleSubmit,o=i.control,d=i.formState,u=i.formState.errors,b=i.reset,j=Object(n.useState)(!1),p=Object(l.a)(j,2),m=p[0],h=p[1];Object(n.useEffect)((function(){d.isSubmitSuccessful&&b({title:"",description:""})}),[d,b]);var O=function(e,t){var a=t?{color:"green",fontWeight:"bold"}:{color:"orange",fontWeight:"bold"};s({title:Object(R.jsxs)("span",{style:a,children:[t?"Sent!":"Drafted!",' \ud83c\udf8a"']}),text:Object(R.jsxs)(R.Fragment,{children:["Campaign",Object(R.jsx)("span",{style:a,children:Object(R.jsxs)("strong",{children:[" ",ut(e.title)," "]})}),"has been ",t?"sent":"drafted and added"," to the Airtable \ud83d\ude01"]}),colorButton:"success"}),function(){var e=setTimeout((function(){r(!1)}),3e3)}(),r(!0)};return Object(R.jsx)(R.Fragment,{children:m?Object(R.jsx)(xt,{titleOne:"Unfortunately, the Campaign has not been sent",titleTwo:"Probably there is a problem with EmailJS application at the moment",titleThree:"That's why the Campaign has been drafted now"}):Object(R.jsxs)(Se.a,{style:{padding:"10px 50px 60px 50px",marginTop:40,backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(5px)",borderRadius:6},children:[Object(R.jsx)(wt,{label:"Add Campaign:"}),Object(R.jsx)(Na,{handleSubmit:c,handleDraftData:function(e){Ba(e,"draft"),a(),O(e,!1)},handleSendData:function(e){t.data&&t.data.filter((function(e){return"active"===e.fields.status})).forEach((function(t){var a={name:t.fields.name,email:t.fields.email,title:e.title,description:e.description};_a.a.send("sgswdgsdg",qa,a,Wa).then((function(){Ba(e,"sent"),O(e,!0)})).catch((function(t){console.log("Unfortunately,",t),Ba(e,"draft"),h(!0),O(e,!1)}))})),a()},control:o,errors:u})]})})},Ua=[{to:"",exact:!0,name:"Subscribers"},{to:"filter",name:"Status"},{to:"add",name:"Add"}],Ka=[{to:"",exact:!0,name:"Campaigns"},{to:"filter",name:"Status"},{to:"add",name:"Add"}],Ya=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=setInterval((function(){r(!1)}),500);return function(){return clearInterval(e)}})),Object(R.jsx)(R.Fragment,{children:a?Object(R.jsx)(ft,{}):Object(R.jsx)(xt,{titleOne:"Page Not Found",titleTwo:"Please make sure that url address is correct.",titleThree:"\ud83d\ude42"})})},Ga=function(){var e=Object(d.f)(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)({}),u=Object(l.a)(i,2),b=u[0],j=u[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),h=m[0],f=m[1],g=Object(n.useState)({}),v=Object(l.a)(g,2),C=v[0],S=v[1],y=Object(n.useState)(0),P=Object(l.a)(y,2),T=P[0],D=P[1],k=x("/subscribers"),w=k.data,E=k.setData,I=k.getData,A=x("/campaigns"),_=A.data,N=A.setData,H=A.getData,F=function(){var e=Object(o.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(t){return"active"===t.fields.status?e("/subscribers/details/".concat(t.id)):s(!0)},z=function(t){"draft"===t.fields.status?e("/campaigns/details/".concat(t.id)):s(!0)},L=[{path:"/",element:Object(R.jsx)(Re,{})},{path:"subscribers",element:Object(R.jsx)(Ce,{dataLinks:Ua}),children:[{path:"/",element:Object(R.jsx)(_t,{subscribersData:w,setSelectedData:S,handleSubscriberDetails:M,setContentPopup:j,setOpenInfoPopup:s,setOpenConfirmPopup:f})},{path:"add",element:Object(R.jsx)(va,{setSubscribersData:E,setContentPopup:j,setOpenInfoPopup:s,getSubscribersData:I})},{path:"filter",element:Object(R.jsx)(Nt,{subscribersData:w,setSelectedData:S,handleSubscriberDetails:M,setContentPopup:j,setOpenInfoPopup:s,setOpenConfirmPopup:f})},{path:"details/:id",element:Object(R.jsx)(Ft,{subscribersData:w})},{path:"*",element:Object(R.jsx)(Ya,{})}]},{path:"campaigns",element:Object(R.jsx)(Ce,{dataLinks:Ka}),children:[{path:"/",element:Object(R.jsx)(Ea,{campaignsData:_,setSelectedData:S,handleEditDetailsCampaign:z,setContentPopup:j,setOpenConfirmPopup:f})},{path:"filter",element:Object(R.jsx)(Aa,{campaignsData:_,setSelectedData:S,handleEditDetailsCampaign:z,setContentPopup:j,setOpenInfoPopup:s,setOpenConfirmPopup:f})},{path:"add",element:Object(R.jsx)(Va,{subscribersData:w,getCampaignsData:H,setContentPopup:j,setOpenInfoPopup:s})},{path:"details/:id",element:Object(R.jsx)(za,{campaignsData:_,subscribersData:w,getCampaignsData:H,selectedData:C,setOpenInfoPopup:s,setContentPopup:j})}]},{path:"*",element:Object(R.jsx)(Ya,{})}],q=Object(d.i)(L);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(be,{tabsValue:T,setTabsValue:D}),Object(R.jsx)("div",{className:"routing-children",children:q}),Object(R.jsx)(ke,{label:"Coded By Szymon Rojek \xa9 2021"}),Object(R.jsx)(Pt,{contentPopup:b,openInfoPopup:r,setOpenInfoPopup:s}),Object(R.jsx)(Dt,{handleRemoveItem:function(){var e=null===C||void 0===C?void 0:C.group,t=C.id,a=function(e){return e.data.filter((function(e){return e.id!==t}))};"subscribers"===e&&E({status:"success",data:a(w)}),"campaigns"===e&&N({status:"success",data:a(_)}),F(e,t),f(!1)},contentPopup:b,openConfirmPopup:h,setOpenConfirmPopup:f})]})},$a=function(){return Object(R.jsx)("div",{className:"page-container",children:Object(R.jsx)(Ga,{})})},Za=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,527)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},Ja=a(507),Qa=a(234),Xa=Object(Qa.a)();Xa.typography.h1=(oa={},Object(f.a)(oa,Xa.breakpoints.down("sm"),{fontSize:"2rem"}),Object(f.a)(oa,Xa.breakpoints.up("sm"),{fontSize:"3rem"}),Object(f.a)(oa,Xa.breakpoints.up("md"),{fontSize:"4rem"}),oa),Xa.typography.h2=(la={},Object(f.a)(la,Xa.breakpoints.down("sm"),{fontSize:"1.5rem"}),Object(f.a)(la,Xa.breakpoints.up("sm"),{fontSize:"2rem"}),Object(f.a)(la,Xa.breakpoints.up("md"),{fontSize:"2.5rem"}),la),Xa.typography.h3=(da={},Object(f.a)(da,Xa.breakpoints.down("sm"),{fontSize:"1.3rem"}),Object(f.a)(da,Xa.breakpoints.up("sm"),{fontSize:"1.7rem"}),Object(f.a)(da,Xa.breakpoints.up("md"),{fontSize:"2rem"}),da),Xa.typography.body2=(ua={},Object(f.a)(ua,Xa.breakpoints.down("sm"),{fontSize:"1.2rem"}),Object(f.a)(ua,Xa.breakpoints.up("sm"),{fontSize:"1.5rem"}),Object(f.a)(ua,Xa.breakpoints.up("md"),{fontSize:"1.7rem"}),ua);var en=Xa;s.a.render(Object(R.jsx)(g.a,{children:Object(R.jsx)(Ja.a,{theme:en,children:Object(R.jsx)($a,{})})}),document.getElementById("root")),Za()}},[[399,1,2]]]);
//# sourceMappingURL=main.2fc32b1f.chunk.js.map